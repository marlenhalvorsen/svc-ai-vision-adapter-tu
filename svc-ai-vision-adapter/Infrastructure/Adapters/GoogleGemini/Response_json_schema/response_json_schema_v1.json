{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/maha63312/svc-ai-vision-adapter/main/Infrastructure/Adapters/GoogleGemini/response_json_schema_v0.json",
  "title": "MachineIdentification",
  "type": "object",

  "properties": {
    "status": {
      "type": "string",
      "enum": [ "success", "refusal" ]
    },

    "reason": {
      "type": "string",
      "description": "Reason for refusal (when status = refusal)"
    },

    "commentary": {
      "type": "string",
      "description": "Optional explanation or debug info"
    },

    "partial": {
      "type": "boolean",
      "description": "True if Gemini could only identify some information"
    },

    "brand": {
      "type": "string",
      "description": "Machine brand e.g. Caterpillar, Hitachi"
    },

    "machineType": {
      "type": "string",
      "description": "Machine type e.g. Excavator, Bulldozer"
    },

    "model": {
      "type": "string",
      "description": "Machine model number e.g. 930G, ZX350LC-7"
    },
    "weight": {
      "type": "number",
      "minimum": 0,
      "description": "Machine’s estimated operating weight in kg"
    },
    "year": {
      "type": "string",
      "description": "Estimated production year range e.g. 2010-2016",
      "maxLength": 20,
      "pattern": "^[0-9]{4}(-[0-9]{4})?$"
    },
    "attachment": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "Attachments identified for the machine"
    },

    "confidence": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "Model confidence from 0–1"
    },
    "source": {
      "type": "string",
      "description": "What information formed the basis of the identification"
    }

  },


  "required": [ "status" ]
}
